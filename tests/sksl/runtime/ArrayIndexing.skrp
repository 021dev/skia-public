    1. store_device_xy01              $15..18 = DeviceCoords.xy01
    2. copy_constant                  $17 = 0x3F000000 (0.5)
    3. copy_constant                  $18 = 0x3F000000 (0.5)
    4. cmpeq_2_floats                 $15..16 = equal($15..16, $17..18)
    5. bitwise_and_int                $15 &= $16
    6. store_src_rg                   xy = src.rg
    7. init_lane_masks                CondMask = LoopMask = RetMask = true
    8. trace_enter                    TraceEnter(float4 main(float2 xy)) when $15 is true
    9. trace_var                      TraceVar(xy) when $15 is true
   10. zero_slot_unmasked             $0 = 0
   11. copy_slot_unmasked             $1 = $15
   12. copy_slot_masked               $0 = Mask($1)
   13. trace_scope                    TraceScope(+1) when $0 is true
   14. trace_line                     TraceLine(38) when $15 is true
   15. trace_enter                    TraceEnter(float index_by_literal()) when $15 is true
   16. zero_slot_unmasked             $1 = 0
   17. copy_slot_unmasked             $2 = $15
   18. copy_slot_masked               $1 = Mask($2)
   19. trace_scope                    TraceScope(+1) when $1 is true
   20. trace_line                     TraceLine(5) when $15 is true
   21. copy_constant                  [index_by_literal].result = u1[0]
   22. trace_var                      TraceVar([index_by_literal].result) when $15 is true
   23. trace_scope                    TraceScope(-1) when $1 is true
   24. trace_exit                     TraceExit(float index_by_literal()) when $15 is true
   25. copy_slot_unmasked             $1 = [index_by_literal].result
   26. label                          label 0x00000000
   27. trace_enter                    TraceEnter(float index_by_loop()) when $15 is true
   28. zero_slot_unmasked             $2 = 0
   29. copy_slot_unmasked             $3 = $15
   30. copy_slot_masked               $2 = Mask($3)
   31. trace_scope                    TraceScope(+1) when $2 is true
   32. trace_line                     TraceLine(10) when $15 is true
   33. zero_slot_unmasked             sum = 0
   34. trace_var                      TraceVar(sum) when $15 is true
   35. zero_slot_unmasked             $3 = 0
   36. copy_slot_unmasked             $4 = $15
   37. copy_slot_masked               $3 = Mask($4)
   38. trace_scope                    TraceScope(+1) when $3 is true
   39. trace_line                     TraceLine(11) when $15 is true
   40. copy_constant                  i = 0x00000003 (4.203895e-45)
   41. trace_var                      TraceVar(i) when $15 is true
   42. label                          label 0x00000003
   43. zero_slot_unmasked             $4 = 0
   44. copy_slot_unmasked             $5 = $15
   45. copy_slot_masked               $4 = Mask($5)
   46. trace_scope                    TraceScope(+1) when $4 is true
   47. trace_line                     TraceLine(12) when $15 is true
   48. copy_slot_unmasked             $5 = sum
   49. copy_slot_unmasked             $12 = i
   50. copy_from_indirect_uniform_unm $6 = Indirect(u2[0] + $12)
   51. add_float                      $5 += $6
   52. copy_slot_unmasked             sum = $5
   53. trace_var                      TraceVar(sum) when $15 is true
   54. trace_scope                    TraceScope(-1) when $4 is true
   55. trace_line                     TraceLine(11) when $15 is true
   56. copy_slot_unmasked             $4 = i
   57. copy_constant                  $5 = 0x00000001 (1.401298e-45)
   58. sub_int                        $4 -= $5
   59. copy_slot_unmasked             i = $4
   60. trace_var                      TraceVar(i) when $15 is true
   61. zero_slot_unmasked             $4 = 0
   62. copy_slot_unmasked             $5 = i
   63. cmple_int                      $4 = lessThanEqual($4, $5)
   64. stack_rewind
   65. branch_if_no_active_lanes_eq   branch -23 (label 3 at #42) if no lanes of $4 == 0x00000000 (0.0)
   66. label                          label 0x00000002
   67. trace_scope                    TraceScope(-1) when $3 is true
   68. trace_line                     TraceLine(14) when $15 is true
   69. copy_slot_unmasked             [index_by_loop].result = sum
   70. trace_var                      TraceVar([index_by_loop].result) when $15 is true
   71. trace_scope                    TraceScope(-1) when $2 is true
   72. trace_exit                     TraceExit(float index_by_loop()) when $15 is true
   73. copy_slot_unmasked             $2 = [index_by_loop].result
   74. label                          label 0x00000001
   75. trace_enter                    TraceEnter(float index_by_complex_loop()) when $15 is true
   76. zero_slot_unmasked             $3 = 0
   77. copy_slot_unmasked             $4 = $15
   78. copy_slot_masked               $3 = Mask($4)
   79. trace_scope                    TraceScope(+1) when $3 is true
   80. trace_line                     TraceLine(19) when $15 is true
   81. copy_constant                  prod = 0x3F800000 (1.0)
   82. trace_var                      TraceVar(prod) when $15 is true
   83. zero_slot_unmasked             $4 = 0
   84. copy_slot_unmasked             $5 = $15
   85. copy_slot_masked               $4 = Mask($5)
   86. trace_scope                    TraceScope(+1) when $4 is true
   87. trace_line                     TraceLine(20) when $15 is true
   88. zero_slot_unmasked             i₁ = 0
   89. trace_var                      TraceVar(i₁) when $15 is true
   90. label                          label 0x00000006
   91. zero_slot_unmasked             $5 = 0
   92. copy_slot_unmasked             $6 = $15
   93. copy_slot_masked               $5 = Mask($6)
   94. trace_scope                    TraceScope(+1) when $5 is true
   95. trace_line                     TraceLine(21) when $15 is true
   96. copy_slot_unmasked             $6 = prod
   97. copy_slot_unmasked             $12 = i₁
   98. copy_constant                  $13 = 0x00000002 (2.802597e-45)
   99. cmplt_int                      $12 = lessThan($12, $13)
  100. copy_slot_unmasked             $13 = i₁
  101. zero_slot_unmasked             $14 = 0
  102. mix_int                        $12 = mix($13, $14, $12)
  103. copy_from_indirect_uniform_unm $7 = Indirect(u3[0] + $12)
  104. mul_float                      $6 *= $7
  105. copy_slot_unmasked             prod = $6
  106. trace_var                      TraceVar(prod) when $15 is true
  107. trace_scope                    TraceScope(-1) when $5 is true
  108. trace_line                     TraceLine(20) when $15 is true
  109. copy_slot_unmasked             $5 = i₁
  110. copy_constant                  $6 = 0x00000001 (1.401298e-45)
  111. add_int                        $5 += $6
  112. copy_slot_unmasked             i₁ = $5
  113. trace_var                      TraceVar(i₁) when $15 is true
  114. copy_slot_unmasked             $5 = i₁
  115. copy_constant                  $6 = 0x00000004 (5.605194e-45)
  116. cmplt_int                      $5 = lessThan($5, $6)
  117. stack_rewind
  118. branch_if_no_active_lanes_eq   branch -28 (label 6 at #90) if no lanes of $5 == 0x00000000 (0.0)
  119. label                          label 0x00000005
  120. trace_scope                    TraceScope(-1) when $4 is true
  121. trace_line                     TraceLine(23) when $15 is true
  122. copy_slot_unmasked             [index_by_complex_loop].result = prod
  123. trace_var                      TraceVar([index_by_complex_loop].result) when $15 is true
  124. trace_scope                    TraceScope(-1) when $3 is true
  125. trace_exit                     TraceExit(float index_by_complex_loop()) when $15 is true
  126. copy_slot_unmasked             $3 = [index_by_complex_loop].result
  127. label                          label 0x00000004
  128. trace_enter                    TraceEnter(float index_out_of_bounds_checked()) when $15 is true
  129. zero_slot_unmasked             $4 = 0
  130. copy_slot_unmasked             $5 = $15
  131. copy_slot_masked               $4 = Mask($5)
  132. trace_scope                    TraceScope(+1) when $4 is true
  133. trace_line                     TraceLine(28) when $15 is true
  134. zero_slot_unmasked             sum₁ = 0
  135. trace_var                      TraceVar(sum₁) when $15 is true
  136. zero_slot_unmasked             $5 = 0
  137. copy_slot_unmasked             $6 = $15
  138. copy_slot_masked               $5 = Mask($6)
  139. trace_scope                    TraceScope(+1) when $5 is true
  140. trace_line                     TraceLine(29) when $15 is true
  141. copy_constant                  f = 0xC0133333 (-2.3)
  142. trace_var                      TraceVar(f) when $15 is true
  143. label                          label 0x0000000A
  144. zero_slot_unmasked             $6 = 0
  145. copy_slot_unmasked             $7 = $15
  146. copy_slot_masked               $6 = Mask($7)
  147. trace_scope                    TraceScope(+1) when $6 is true
  148. trace_line                     TraceLine(30) when $15 is true
  149. store_condition_mask           $7 = CondMask
  150. zero_slot_unmasked             $8 = 0
  151. copy_slot_unmasked             $9 = f
  152. cmplt_float                    $8 = lessThan($8, $9)
  153. copy_slot_unmasked             $9 = f
  154. copy_constant                  $10 = 0x41800000 (16.0)
  155. cmplt_float                    $9 = lessThan($9, $10)
  156. bitwise_and_int                $8 &= $9
  157. merge_condition_mask           CondMask = $7 & $8
  158. zero_slot_unmasked             $9 = 0
  159. copy_slot_unmasked             $10 = $15
  160. copy_slot_masked               $9 = Mask($10)
  161. trace_scope                    TraceScope(+1) when $9 is true
  162. trace_line                     TraceLine(31) when $15 is true
  163. copy_slot_unmasked             $10 = sum₁
  164. copy_slot_unmasked             $12 = f
  165. cast_to_int_from_float         $12 = FloatToInt($12)
  166. copy_from_indirect_uniform_unm $11 = Indirect(u4[0] + $12)
  167. sub_float                      $10 -= $11
  168. copy_slot_masked               sum₁ = Mask($10)
  169. trace_var                      TraceVar(sum₁) when $15 is true
  170. trace_scope                    TraceScope(-1) when $9 is true
  171. load_condition_mask            CondMask = $7
  172. trace_scope                    TraceScope(-1) when $6 is true
  173. trace_line                     TraceLine(29) when $15 is true
  174. copy_slot_unmasked             $6 = f
  175. copy_constant                  $7 = 0x406CCCCD (3.7)
  176. add_float                      $6 += $7
  177. copy_slot_unmasked             f = $6
  178. trace_var                      TraceVar(f) when $15 is true
  179. copy_slot_unmasked             $6 = f
  180. copy_constant                  $7 = 0x41880000 (17.0)
  181. cmplt_float                    $6 = lessThan($6, $7)
  182. stack_rewind
  183. branch_if_no_active_lanes_eq   branch -40 (label 10 at #143) if no lanes of $6 == 0x00000000 (0.0)
  184. label                          label 0x00000009
  185. trace_scope                    TraceScope(-1) when $5 is true
  186. trace_line                     TraceLine(34) when $15 is true
  187. copy_slot_unmasked             [index_out_of_bounds_checked].result = sum₁
  188. trace_var                      TraceVar([index_out_of_bounds_checked].result) when $15 is true
  189. trace_scope                    TraceScope(-1) when $4 is true
  190. trace_exit                     TraceExit(float index_out_of_bounds_checked()) when $15 is true
  191. copy_slot_unmasked             $4 = [index_out_of_bounds_checked].result
  192. label                          label 0x00000008
  193. copy_4_slots_unmasked          [main].result = $1..4
  194. trace_var                      TraceVar([main].result) when $15 is true
  195. trace_scope                    TraceScope(-1) when $0 is true
  196. trace_exit                     TraceExit(float4 main(float2 xy)) when $15 is true
  197. load_src                       src.rgba = [main].result
