    1. store_src_rg                   coords = src.rg
    2. init_lane_masks                CondMask = LoopMask = RetMask = true
    3. store_condition_mask           $26 = CondMask
    4. store_condition_mask           $40 = CondMask
    5. store_condition_mask           $49 = CondMask
    6. store_condition_mask           $34 = CondMask
    7. store_condition_mask           $69 = CondMask
    8. store_condition_mask           $58 = CondMask
    9. store_condition_mask           $22 = CondMask
   10. store_condition_mask           $65 = CondMask
   11. store_condition_mask           $17 = CondMask
   12. store_condition_mask           $0 = CondMask
   13. store_condition_mask           $76 = CondMask
   14. branch_if_no_active_lanes      branch_if_no_active_lanes +20 (label 12 at #34)
   15. store_return_mask              $77 = RetMask
   16. store_loop_mask                $78 = LoopMask
   17. jump                           jump +5 (label 13 at #22)
   18. label                          label 0x0000000E
   19. zero_slot_unmasked             $79 = 0
   20. copy_slot_masked               [inside_while_loop].result = Mask($79)
   21. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
   22. label                          label 0x0000000D
   23. copy_constant                  $79 = unknownInput
   24. copy_constant                  $80 = 0x42F60000 (123.0)
   25. cmpeq_float                    $79 = equal($79, $80)
   26. merge_loop_mask                LoopMask &= $79
   27. stack_rewind
   28. branch_if_any_active_lanes     branch_if_any_active_lanes -10 (label 14 at #18)
   29. load_loop_mask                 LoopMask = $78
   30. copy_constant                  $78 = 0xFFFFFFFF
   31. copy_slot_masked               [inside_while_loop].result = Mask($78)
   32. load_return_mask               RetMask = $77
   33. copy_slot_unmasked             $77 = [inside_while_loop].result
   34. label                          label 0x0000000C
   35. zero_slot_unmasked             $1 = 0
   36. merge_condition_mask           CondMask = $76 & $77
   37. branch_if_no_active_lanes      branch_if_no_active_lanes +16 (label 11 at #53)
   38. store_return_mask              $2 = RetMask
   39. store_loop_mask                $3 = LoopMask
   40. label                          label 0x00000010
   41. copy_constant                  $4 = 0xFFFFFFFF
   42. copy_slot_masked               [inside_infinite_do_loop].result = Mask($4)
   43. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
   44. copy_constant                  $4 = 0xFFFFFFFF
   45. merge_loop_mask                LoopMask &= $4
   46. stack_rewind
   47. branch_if_any_active_lanes     branch_if_any_active_lanes -7 (label 16 at #40)
   48. load_loop_mask                 LoopMask = $3
   49. load_return_mask               RetMask = $2
   50. copy_slot_unmasked             $2 = [inside_infinite_do_loop].result
   51. label                          label 0x0000000F
   52. copy_slot_masked               $1 = Mask($2)
   53. label                          label 0x0000000B
   54. load_condition_mask            CondMask = $76
   55. zero_slot_unmasked             $18 = 0
   56. merge_condition_mask           CondMask = $0 & $1
   57. branch_if_no_active_lanes      branch_if_no_active_lanes +18 (label 10 at #75)
   58. store_return_mask              $19 = RetMask
   59. store_loop_mask                $20 = LoopMask
   60. jump                           jump +5 (label 18 at #65)
   61. label                          label 0x00000013
   62. copy_constant                  $21 = 0xFFFFFFFF
   63. copy_slot_masked               [inside_infinite_while_loop].result = Mask($21)
   64. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
   65. label                          label 0x00000012
   66. copy_constant                  $21 = 0xFFFFFFFF
   67. merge_loop_mask                LoopMask &= $21
   68. stack_rewind
   69. branch_if_any_active_lanes     branch_if_any_active_lanes -8 (label 19 at #61)
   70. load_loop_mask                 LoopMask = $20
   71. load_return_mask               RetMask = $19
   72. copy_slot_unmasked             $19 = [inside_infinite_while_loop].result
   73. label                          label 0x00000011
   74. copy_slot_masked               $18 = Mask($19)
   75. label                          label 0x0000000A
   76. load_condition_mask            CondMask = $0
   77. zero_slot_unmasked             $66 = 0
   78. merge_condition_mask           CondMask = $17 & $18
   79. branch_if_no_active_lanes      branch_if_no_active_lanes +13 (label 9 at #92)
   80. store_loop_mask                $67 = LoopMask
   81. label                          label 0x00000015
   82. mask_off_loop_mask             LoopMask &= ~(CondMask & LoopMask & RetMask)
   83. copy_constant                  $68 = 0xFFFFFFFF
   84. merge_loop_mask                LoopMask &= $68
   85. stack_rewind
   86. branch_if_any_active_lanes     branch_if_any_active_lanes -5 (label 21 at #81)
   87. load_loop_mask                 LoopMask = $67
   88. copy_constant                  $67 = 0xFFFFFFFF
   89. copy_slot_masked               [after_do_loop].result = Mask($67)
   90. label                          label 0x00000014
   91. copy_slot_masked               $66 = Mask($67)
   92. label                          label 0x00000009
   93. load_condition_mask            CondMask = $17
   94. zero_slot_unmasked             $23 = 0
   95. merge_condition_mask           CondMask = $65 & $66
   96. branch_if_no_active_lanes      branch_if_no_active_lanes +15 (label 8 at #111)
   97. store_loop_mask                $24 = LoopMask
   98. jump                           jump +3 (label 23 at #101)
   99. label                          label 0x00000018
  100. mask_off_loop_mask             LoopMask &= ~(CondMask & LoopMask & RetMask)
  101. label                          label 0x00000017
  102. copy_constant                  $25 = 0xFFFFFFFF
  103. merge_loop_mask                LoopMask &= $25
  104. stack_rewind
  105. branch_if_any_active_lanes     branch_if_any_active_lanes -6 (label 24 at #99)
  106. load_loop_mask                 LoopMask = $24
  107. copy_constant                  $24 = 0xFFFFFFFF
  108. copy_slot_masked               [after_while_loop].result = Mask($24)
  109. label                          label 0x00000016
  110. copy_slot_masked               $23 = Mask($24)
  111. label                          label 0x00000008
  112. load_condition_mask            CondMask = $65
  113. zero_slot_unmasked             $59 = 0
  114. merge_condition_mask           CondMask = $22 & $23
  115. branch_if_no_active_lanes      branch_if_no_active_lanes +30 (label 7 at #145)
  116. store_return_mask              $60 = RetMask
  117. store_loop_mask                $61 = LoopMask
  118. copy_constant                  $62 = unknownInput
  119. cast_to_int_from_float         $62 = FloatToInt($62)
  120. store_loop_mask                $63 = LoopMask
  121. mask_off_loop_mask             LoopMask &= ~(CondMask & LoopMask & RetMask)
  122. case_op                        if ($62 == 0x00000001) { LoopMask = true; $63 = false; }
  123. branch_if_no_active_lanes      branch_if_no_active_lanes +4 (label 26 at #127)
  124. copy_constant                  $64 = 0xFFFFFFFF
  125. copy_slot_masked               [switch_with_all_returns].result = Mask($64)
  126. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  127. label                          label 0x0000001A
  128. case_op                        if ($62 == 0x00000002) { LoopMask = true; $63 = false; }
  129. branch_if_no_active_lanes      branch_if_no_active_lanes +4 (label 27 at #133)
  130. zero_slot_unmasked             $64 = 0
  131. copy_slot_masked               [switch_with_all_returns].result = Mask($64)
  132. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  133. label                          label 0x0000001B
  134. reenable_loop_mask             LoopMask |= $63
  135. branch_if_no_active_lanes      branch_if_no_active_lanes +4 (label 28 at #139)
  136. zero_slot_unmasked             $63 = 0
  137. copy_slot_masked               [switch_with_all_returns].result = Mask($63)
  138. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  139. label                          label 0x0000001C
  140. load_loop_mask                 LoopMask = $61
  141. load_return_mask               RetMask = $60
  142. copy_slot_unmasked             $60 = [switch_with_all_returns].result
  143. label                          label 0x00000019
  144. copy_slot_masked               $59 = Mask($60)
  145. label                          label 0x00000007
  146. load_condition_mask            CondMask = $22
  147. zero_slot_unmasked             $70 = 0
  148. merge_condition_mask           CondMask = $58 & $59
  149. branch_if_no_active_lanes      branch_if_no_active_lanes +27 (label 6 at #176)
  150. store_return_mask              $71 = RetMask
  151. store_loop_mask                $72 = LoopMask
  152. copy_constant                  $73 = unknownInput
  153. cast_to_int_from_float         $73 = FloatToInt($73)
  154. store_loop_mask                $74 = LoopMask
  155. mask_off_loop_mask             LoopMask &= ~(CondMask & LoopMask & RetMask)
  156. case_op                        if ($73 == 0x00000001) { LoopMask = true; $74 = false; }
  157. branch_if_no_active_lanes      branch_if_no_active_lanes +4 (label 30 at #161)
  158. copy_constant                  $75 = 0xFFFFFFFF
  159. copy_slot_masked               [switch_fallthrough].result = Mask($75)
  160. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  161. label                          label 0x0000001E
  162. case_op                        if ($73 == 0x00000002) { LoopMask = true; $74 = false; }
  163. branch_if_no_active_lanes      branch_if_no_active_lanes +1 (label 31 at #164)
  164. label                          label 0x0000001F
  165. reenable_loop_mask             LoopMask |= $74
  166. branch_if_no_active_lanes      branch_if_no_active_lanes +4 (label 32 at #170)
  167. zero_slot_unmasked             $74 = 0
  168. copy_slot_masked               [switch_fallthrough].result = Mask($74)
  169. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  170. label                          label 0x00000020
  171. load_loop_mask                 LoopMask = $72
  172. load_return_mask               RetMask = $71
  173. copy_slot_unmasked             $71 = [switch_fallthrough].result
  174. label                          label 0x0000001D
  175. copy_slot_masked               $70 = Mask($71)
  176. label                          label 0x00000006
  177. load_condition_mask            CondMask = $58
  178. zero_slot_unmasked             $35 = 0
  179. merge_condition_mask           CondMask = $69 & $70
  180. branch_if_no_active_lanes      branch_if_no_active_lanes +24 (label 5 at #204)
  181. store_return_mask              $36 = RetMask
  182. store_loop_mask                $37 = LoopMask
  183. copy_constant                  $38 = unknownInput
  184. cast_to_int_from_float         $38 = FloatToInt($38)
  185. store_loop_mask                $39 = LoopMask
  186. mask_off_loop_mask             LoopMask &= ~(CondMask & LoopMask & RetMask)
  187. case_op                        if ($38 == 0x00000001) { LoopMask = true; $39 = false; }
  188. branch_if_no_active_lanes      branch_if_no_active_lanes +1 (label 34 at #189)
  189. label                          label 0x00000022
  190. case_op                        if ($38 == 0x00000002) { LoopMask = true; $39 = false; }
  191. branch_if_no_active_lanes      branch_if_no_active_lanes +1 (label 35 at #192)
  192. label                          label 0x00000023
  193. reenable_loop_mask             LoopMask |= $39
  194. branch_if_no_active_lanes      branch_if_no_active_lanes +4 (label 36 at #198)
  195. copy_constant                  $39 = 0xFFFFFFFF
  196. copy_slot_masked               [switch_fallthrough_twice].result = Mask($39)
  197. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  198. label                          label 0x00000024
  199. load_loop_mask                 LoopMask = $37
  200. load_return_mask               RetMask = $36
  201. copy_slot_unmasked             $36 = [switch_fallthrough_twice].result
  202. label                          label 0x00000021
  203. copy_slot_masked               $35 = Mask($36)
  204. label                          label 0x00000005
  205. load_condition_mask            CondMask = $69
  206. zero_slot_unmasked             $50 = 0
  207. merge_condition_mask           CondMask = $34 & $35
  208. branch_if_no_active_lanes      branch_if_no_active_lanes +38 (label 4 at #246)
  209. store_return_mask              $51 = RetMask
  210. store_loop_mask                $52 = LoopMask
  211. copy_constant                  $53 = unknownInput
  212. cast_to_int_from_float         $53 = FloatToInt($53)
  213. store_loop_mask                $54 = LoopMask
  214. mask_off_loop_mask             LoopMask &= ~(CondMask & LoopMask & RetMask)
  215. case_op                        if ($53 == 0x00000001) { LoopMask = true; $54 = false; }
  216. branch_if_no_active_lanes      branch_if_no_active_lanes +18 (label 38 at #234)
  217. zero_slot_unmasked             x = 0
  218. store_loop_mask                $55 = LoopMask
  219. jump                           jump +7 (label 39 at #226)
  220. label                          label 0x00000028
  221. mask_off_loop_mask             LoopMask &= ~(CondMask & LoopMask & RetMask)
  222. copy_slot_unmasked             $56 = x
  223. copy_constant                  $57 = 0x00000001 (1.401298e-45)
  224. add_int                        $56 += $57
  225. copy_slot_masked               x = Mask($56)
  226. label                          label 0x00000027
  227. copy_slot_unmasked             $56 = x
  228. copy_constant                  $57 = 0x0000000A (1.401298e-44)
  229. cmple_int                      $56 = lessThanEqual($56, $57)
  230. merge_loop_mask                LoopMask &= $56
  231. stack_rewind
  232. branch_if_any_active_lanes     branch_if_any_active_lanes -12 (label 40 at #220)
  233. load_loop_mask                 LoopMask = $55
  234. label                          label 0x00000026
  235. reenable_loop_mask             LoopMask |= $54
  236. branch_if_no_active_lanes      branch_if_no_active_lanes +4 (label 41 at #240)
  237. copy_constant                  $54 = 0xFFFFFFFF
  238. copy_slot_masked               [switch_with_break_in_loop].result = Mask($54)
  239. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  240. label                          label 0x00000029
  241. load_loop_mask                 LoopMask = $52
  242. load_return_mask               RetMask = $51
  243. copy_slot_unmasked             $51 = [switch_with_break_in_loop].result
  244. label                          label 0x00000025
  245. copy_slot_masked               $50 = Mask($51)
  246. label                          label 0x00000004
  247. load_condition_mask            CondMask = $34
  248. zero_slot_unmasked             $41 = 0
  249. merge_condition_mask           CondMask = $49 & $50
  250. branch_if_no_active_lanes      branch_if_no_active_lanes +42 (label 3 at #292)
  251. store_return_mask              $42 = RetMask
  252. store_loop_mask                $43 = LoopMask
  253. copy_constant                  $44 = unknownInput
  254. cast_to_int_from_float         $44 = FloatToInt($44)
  255. store_loop_mask                $45 = LoopMask
  256. mask_off_loop_mask             LoopMask &= ~(CondMask & LoopMask & RetMask)
  257. case_op                        if ($44 == 0x00000001) { LoopMask = true; $45 = false; }
  258. branch_if_no_active_lanes      branch_if_no_active_lanes +22 (label 43 at #280)
  259. zero_slot_unmasked             x₁ = 0
  260. store_loop_mask                $46 = LoopMask
  261. jump                           jump +11 (label 44 at #272)
  262. label                          label 0x0000002D
  263. zero_slot_unmasked             [temporary 0] = 0
  264. copy_constant                  $47 = 0xFFFFFFFF
  265. copy_slot_masked               [temporary 0] = Mask($47)
  266. mask_off_loop_mask             LoopMask &= ~(CondMask & LoopMask & RetMask)
  267. reenable_loop_mask             LoopMask |= [temporary 0]
  268. copy_slot_unmasked             $47 = x₁
  269. copy_constant                  $48 = 0x00000001 (1.401298e-45)
  270. add_int                        $47 += $48
  271. copy_slot_masked               x₁ = Mask($47)
  272. label                          label 0x0000002C
  273. copy_slot_unmasked             $47 = x₁
  274. copy_constant                  $48 = 0x0000000A (1.401298e-44)
  275. cmple_int                      $47 = lessThanEqual($47, $48)
  276. merge_loop_mask                LoopMask &= $47
  277. stack_rewind
  278. branch_if_any_active_lanes     branch_if_any_active_lanes -16 (label 45 at #262)
  279. load_loop_mask                 LoopMask = $46
  280. label                          label 0x0000002B
  281. reenable_loop_mask             LoopMask |= $45
  282. branch_if_no_active_lanes      branch_if_no_active_lanes +4 (label 46 at #286)
  283. copy_constant                  $45 = 0xFFFFFFFF
  284. copy_slot_masked               [switch_with_continue_in_loop].result = Mask($45)
  285. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  286. label                          label 0x0000002E
  287. load_loop_mask                 LoopMask = $43
  288. load_return_mask               RetMask = $42
  289. copy_slot_unmasked             $42 = [switch_with_continue_in_loop].result
  290. label                          label 0x0000002A
  291. copy_slot_masked               $41 = Mask($42)
  292. label                          label 0x00000003
  293. load_condition_mask            CondMask = $49
  294. zero_slot_unmasked             $27 = 0
  295. merge_condition_mask           CondMask = $40 & $41
  296. branch_if_no_active_lanes      branch_if_no_active_lanes +34 (label 2 at #330)
  297. store_return_mask              $28 = RetMask
  298. store_loop_mask                $29 = LoopMask
  299. copy_constant                  $30 = unknownInput
  300. cast_to_int_from_float         $30 = FloatToInt($30)
  301. store_loop_mask                $31 = LoopMask
  302. mask_off_loop_mask             LoopMask &= ~(CondMask & LoopMask & RetMask)
  303. case_op                        if ($30 == 0x00000001) { LoopMask = true; $31 = false; }
  304. branch_if_no_active_lanes      branch_if_no_active_lanes +14 (label 48 at #318)
  305. copy_constant                  $32 = unknownInput
  306. copy_constant                  $33 = 0x42F60000 (123.0)
  307. cmpeq_float                    $32 = equal($32, $33)
  308. branch_if_no_active_lanes_eq   branch +5 (label 49 at #313) if no lanes of $32 == 0xFFFFFFFF
  309. zero_slot_unmasked             $33 = 0
  310. copy_slot_masked               [switch_with_if_that_returns].result = Mask($33)
  311. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  312. jump                           jump +5 (label 50 at #317)
  313. label                          label 0x00000031
  314. copy_constant                  $33 = 0xFFFFFFFF
  315. copy_slot_masked               [switch_with_if_that_returns].result = Mask($33)
  316. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  317. label                          label 0x00000032
  318. label                          label 0x00000030
  319. reenable_loop_mask             LoopMask |= $31
  320. branch_if_no_active_lanes      branch_if_no_active_lanes +4 (label 51 at #324)
  321. copy_constant                  $31 = 0xFFFFFFFF
  322. copy_slot_masked               [switch_with_if_that_returns].result = Mask($31)
  323. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  324. label                          label 0x00000033
  325. load_loop_mask                 LoopMask = $29
  326. load_return_mask               RetMask = $28
  327. copy_slot_unmasked             $28 = [switch_with_if_that_returns].result
  328. label                          label 0x0000002F
  329. copy_slot_masked               $27 = Mask($28)
  330. label                          label 0x00000002
  331. load_condition_mask            CondMask = $40
  332. zero_slot_unmasked             $5 = 0
  333. merge_condition_mask           CondMask = $26 & $27
  334. branch_if_no_active_lanes      branch_if_no_active_lanes +29 (label 1 at #363)
  335. store_return_mask              $6 = RetMask
  336. store_loop_mask                $7 = LoopMask
  337. copy_constant                  $8 = unknownInput
  338. cast_to_int_from_float         $8 = FloatToInt($8)
  339. store_loop_mask                $9 = LoopMask
  340. mask_off_loop_mask             LoopMask &= ~(CondMask & LoopMask & RetMask)
  341. case_op                        if ($8 == 0x00000001) { LoopMask = true; $9 = false; }
  342. branch_if_no_active_lanes      branch_if_no_active_lanes +9 (label 53 at #351)
  343. copy_constant                  $10 = unknownInput
  344. copy_constant                  $11 = 0x42F60000 (123.0)
  345. cmpeq_float                    $10 = equal($10, $11)
  346. branch_if_no_active_lanes_eq   branch +4 (label 54 at #350) if no lanes of $10 == 0xFFFFFFFF
  347. zero_slot_unmasked             $11 = 0
  348. copy_slot_masked               [switch_with_one_sided_if_then_fallthrough].result = Mask($11)
  349. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  350. label                          label 0x00000036
  351. label                          label 0x00000035
  352. reenable_loop_mask             LoopMask |= $9
  353. branch_if_no_active_lanes      branch_if_no_active_lanes +4 (label 56 at #357)
  354. copy_constant                  $9 = 0xFFFFFFFF
  355. copy_slot_masked               [switch_with_one_sided_if_then_fallthrough].result = Mask($9)
  356. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  357. label                          label 0x00000038
  358. load_loop_mask                 LoopMask = $7
  359. load_return_mask               RetMask = $6
  360. copy_slot_unmasked             $6 = [switch_with_one_sided_if_then_fallthrough].result
  361. label                          label 0x00000034
  362. copy_slot_masked               $5 = Mask($6)
  363. label                          label 0x00000001
  364. load_condition_mask            CondMask = $26
  365. swizzle_4                      $5..8 = ($5..8).xxxx
  366. copy_4_constants               $9..12 = colorRed
  367. copy_4_constants               $13..16 = colorGreen
  368. mix_4_ints                     $5..8 = mix($9..12, $13..16, $5..8)
  369. copy_4_slots_unmasked          [main].result = $5..8
  370. load_src                       src.rgba = [main].result
